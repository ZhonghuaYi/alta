Import('env', 'library_available')
env = env.Clone()

build_lib = False

# Check whether Python 2.7 and Boost.Python are available.
if library_available(env, pkgspec='python-2.7',
										 inc_var='PYTHON_INC', lib_var='PYTHON_DIR',
										 lib='python2.7', header='Python.h'):
	conf = Configure(env)
	build_lib = conf.CheckLibWithHeader('boost_python',
																			'boost/python.hpp', 'c++')
	conf.Finish()

if build_lib:
	env['SHLIBPREFIX']=''
	env.SharedLibrary('../build/alta.so', ['alta.cpp'])
else:
	print "<<ERROR>> Unable to build the Python interface, please install boost-python"
	print "          or check your configuration."
